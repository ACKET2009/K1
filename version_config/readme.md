 

<h3 align="right"><a href="https://www.tinkoff.ru/rm/yakovleva.irina203/51ZSr71845" target="_blank">ваше "спасибо" автору</a></h3>


  <h1>Инструкция к прошивке 1.3.3.8</h1>
 
 
 
 вот  [**конфиги посмотреть**](/version_config/1_3_3_8/) 
 
  отлаженные с макросами для к1✋. как пользоваться; на скрине указано какие компоненты из скрипта [**гладиолуса**](https://github.com/Guilouz/Creality-K1-and-K1-Max/wiki/Installation-Helper-Script) установлены.
 
  *это конфиг для стокового к1 без замены шкивов. (в printer.cfg указаны строки где и что менять в 4 местах при замене на 20-зубые шкивы)*
 
  1. **рекомендую** если у вас были ранее установлены скрипты перед установкой сбросить прошивку до заводских настроек для исключения накладок.

  1 установить  пункты помеченные зеленым на картинке скрипта, 
  

  ![](config.jpg)



  2  перезагружаем принтер по питанию. все работает. 

  3 если у вас установлена камера- в настройках fluidd - камеры - добавить - пишем любое имя - жмем ок. переходим а настройки интервальной сьемки - выбираем нашу камеру. 

  

<h2>что сделано:</h2>

все конфиги исправлены с изменением и добавлением компонентов, исправлены конфиги  макросов, исправлены различные мелочи типа отображения температур, интегрированы обновления. все скрипты которые установлены сразу добавлены в конфиги в нужное место с правильными исправлениями. 
сделаны исправления для минимизации ошибок во время тестов от перегрева. 

добавлены  макросы для графиков  натяжки ремней и тест резонансов. 

![](/version_config/belts_test.jpg)

1 непарные пики,  - если там их  есть - вах, все плохо срочно искать где ремень трется. 

2 до 85% жить можно если художка.  если техничка искать какой ремень перетягивает. если 93-97 расслабится и жить спокойно, больше 97  - гордится. 

3 и 4 это расхождение между пиками по амплитуде и частоте, в к1 небольшая разница по амплитуде будет всегда, так что не парится, а вот по частоте это когда вправо влево тянет это уже звоночек о неравномерно натянутых ремнях.

зеленая полоса, все что в нее попадает не стоит вашего внимания

 https://github.com/Frix-x/klippain-shaketune/blob/main/docs/macros/belts_tuning.md вот полное разьяснение от автора тестов

**Для тестов соркина на откаты и ЛА\ПА добавлено выключение временное КАМП**

![](/version_config/start_end_code.jpg)

на картинке указано как выглядит окошко куда надо вставлять стартовый и конечный код для корректной работы тестов.

```
_FULL_BED_MESH_ON
_ADAPTIVE_PURGE_LINE_OFF
START_PRINT EXTRUDER_TEMP=$HOTTEMP BED_TEMP=$BEDTEMP

```
стартовый код

```
END_PRINT
```
конечный код

пройти тесты можно тут https://k3d.tech/calibrations/

<h2>что вы получите?</h2>

  флюид и мунрейкером, таймлапсы, бипер в конце печати при паузе и при сработке датчика обрыва филамента, добавлены графики шейперов, натяжки ремней, сохраняется зет офсет при перезагрузке, тест на определенной частоте для определения резонируещих частей принтера , изменена логика кулеров, адаптивная сетка стола теперь с правильным макросом старта печати - если нет исключения обьектов будет рисовать боковую линию прочистки стандартную. также добавлен макрос *screws calibration* если вы решите использовать модификацию с барашками стола для их полуавтоматической настройки.  

ОБЯЗАТЕЛЬНО!!! провести тесты  шейперов и  PID экструдера!!!

**Если установили таймлапс, не забудьте прописать его в настройках орки**

![](timelapse.jpg)

```
TIMELAPSE_TAKE_FRAME
```

**если возникает проблема с загрузкой Fluid или Mainsail** необходимо доустонавить еще компонент 

```
opkg install wget-ssl
```


мой выбор программы доступа для винды это: [**Bitvise SSH Client**](https://www.bitvise.com/ssh-client-download)

 чтобы доступ к файловой системе работал по sftp поэтому установлен enterware и необходимо в консоли ssh добавить компонент 
```
opkg install openssh-sftp-server; ln -s /opt/libexec/sftp-server /usr/libexec/sftp-server
```


