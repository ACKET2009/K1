**советы по организации фермы из принтеров creality K серии**

Организуя 3д ферму хочется упростить себе жизнь  и максимально облегчить управление принтерами. в первую очередь это создание одного файла  для возможности печати на разных принтерах.

мы будем рассматривать на примере слайсера орка. однако советы будут работать и на других современных слайсерах.

**0. установка модифицированного ПО**

Родная веб панель от Creality не имеет возможности доступа к файлам конфигурации и в принципе весьма бедна по фукционалу, поэтому прежде чем обсуждать остальные модификации  необходимо установить надстройку по [этому мануалу](/version_config/readme.md)

**1. регулируем шаги экструдера.**

   Важно понимать что если у вас 1 принтер вы можете игнорировать этот пункт и просто подогнать коофициент потока в вашем слайсере и это не будет какой то проблемой, однако если вы нарезаете один раз файл и отправите на разные принтеры с неотрегулированным шагом экструдера это может стать  причиной некачественной печати. все фидеры К серии суть один и тот же с небольшими нюансами.  один из самых простых способов проверки будет описан тут. итак открутим 3 винта на голове нашего принтера и снимем фидер вытащив его вверх.(не забудьте перед этим извлечь филамент) 

![](/ferma/fider1.jpg)

![](/ferma/fider2.jpg)
  
   1. В `printer.cfg` в конец раздела `[extruder]` добавим строку `min_extrude_temp: 0`  - это позволит выдавливать пруток без включения нагревателя. Строка временная, потом можно удалить.
   
   2. `rotation_distance: 6.9`  значение по умолчанию  используем как отправную точку для расчетов. 
     
   3. заправляем пруток, так чтобы он вышел наружу снизу и откусываем его вровень с корпусом.
   
   4. В консоли пишем :
   
```
    G91
    G1 E300 F60
```
Это выдавит 300 мм прутка на обычной скорости экструдера.(такой расчет достаточно точный и рекомендуемый но медленный)

   5. Берем свой rotation_distance = 6.9 и делю на 300 (столько я отправил прутка на продавливание) 
    получаю Х и это число умножаю на фактически вылезший пруток. Такой нехитрой формулой получаем свой `rotation_distance` идеальный именно для этого принтера. значение может колебаться в небольших пределах.

**2. настройка ретрактов**

подробное описание настроек есть в [**мануале**](/retract/readme.md)

**3. называем принтеры правильно. настраиваем цветовую схему**

В слайсере присваиваем каждому из принтеров порядковый номер.  можно распечатать номера и приклеить на каждый из принтеров и если их меньше 5 можно ввести цветовую индетификацию дополнительно в темах того же fluid  выбрав похожую. 

![](/ferma/color1.jpg)

![](/ferma/color2.jpg)


**4 Настрока звуковых сигналов на к1\К1Макс(в к1с нет бипера как и в совсем новых к1\кмакс)**

Если вы при установке через хелпер скрипт установили `buzzer support`  то вам доступны следующие сценарии: 

1. звуковая сигнализация при окончании филамента. Для этого достаточно зайти в `printer.cfg` найти раздел `[filament_switch_sensor filament_sensor]`
и в конце раздела написать `beep` как на скриншоте ниже. или просто заменить раздел на это:

```
[filament_switch_sensor filament_sensor]
pause_on_runout: true
switch_pin: !PC15
runout_gcode:
  {% if printer.extruder.can_extrude|lower == 'true' %}
    G91
    G0 E30 F600
    G90
  {% endif %}
  beep
  beep
```

![](/ferma/screen1.jpg)

2. звуковая сигнализация при окончании печати. Идем в файл `gcode_macro.cfg`  и находим макрос `END_PRINT` меняя его следующим образом:

```
[gcode_macro END_PRINT]
gcode:
  Qmode_exit
  EXCLUDE_OBJECT_RESET
  PRINT_PREPARE_CLEAR
  M220 S100
  SET_VELOCITY_LIMIT ACCEL=5000 ACCEL_TO_DECEL=2500
  TURN_OFF_HEATERS
  M107 P1
  M107 P2
  END_PRINT_POINT
  beep
  WAIT_TEMP_START
  M84
```
если необходимо  подавать сигнал подольше, просто добавляем количество `beep` в макрос.

